!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.EpicStore=t.EpicStore||{})}(this,function(t){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,o,i,c="object",u=function(t){return t&&t.Math==Math&&t},f=u(typeof globalThis==c&&globalThis)||u(typeof window==c&&window)||u(typeof self==c&&self)||u(typeof e==c&&e)||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},l=!a(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),s={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,y={f:p&&!s.call({1:2},1)?function(t){var e=p(this,t);return!!e&&e.enumerable}:s},d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,v=function(t){return h.call(t).slice(8,-1)},m="".split,O=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==v(t)?m.call(t,""):Object(t)}:Object,g=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},b=function(t){return O(g(t))},w=function(t){return"object"==typeof t?null!==t:"function"==typeof t},_=function(t,e){if(!w(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!w(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},j={}.hasOwnProperty,S=function(t,e){return j.call(t,e)},E=f.document,P=w(E)&&w(E.createElement),T=function(t){return P?E.createElement(t):{}},A=!l&&!a(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a}),x=Object.getOwnPropertyDescriptor,N={f:l?x:function(t,e){if(t=b(t),e=_(e,!0),A)try{return x(t,e)}catch(t){}if(S(t,e))return d(!y.f.call(t,e),t[e])}},C=function(t){if(!w(t))throw TypeError(t+" is not an object");return t},z=Object.defineProperty,I={f:l?z:function(t,e,n){if(C(t),e=_(e,!0),C(n),A)try{return z(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},M=l?function(t,e,n){return I.f(t,e,d(1,n))}:function(t,e,n){return t[e]=n,t},k=function(e,n){try{M(f,e,n)}catch(t){f[e]=n}return n},F=n(function(t){var e="__core-js_shared__",n=f[e]||k(e,{});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),R=F("native-function-to-string",Function.toString),U=f.WeakMap,L="function"==typeof U&&/native code/.test(R.call(U)),D=0,V=Math.random(),W=function(t){return"Symbol("+(void 0===t?"":t)+")_"+(++D+V).toString(36)},J=F("keys"),q=function(t){return J[t]||(J[t]=W(t))},G={};if(L){var H=new f.WeakMap,K=H.get,$=H.has,B=H.set;r=function(t,e){return B.call(H,t,e),e},o=function(t){return K.call(H,t)||{}},i=function(t){return $.call(H,t)}}else{var Q=q("state");G[Q]=!0,r=function(t,e){return M(t,Q,e),e},o=function(t){return S(t,Q)?t[Q]:{}},i=function(t){return S(t,Q)}}var Y,X={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(n){return function(t){var e;if(!w(t)||(e=o(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},Z=n(function(t){var e=X.get,u=X.enforce,a=(R+"").split("toString");F("inspectSource",function(t){return R.call(t)}),(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||S(n,"name")||M(n,"name",e),u(n).source=a.join("string"==typeof e?e:"")),t!==f?(o?!c&&t[e]&&(i=!0):delete t[e],i?t[e]=n:M(t,e,n)):i?t[e]=n:k(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||R.call(this)})}),tt=f,et=function(t){return"function"==typeof t?t:void 0},nt=function(t,e){return arguments.length<2?et(tt[t])||et(f[t]):tt[t]&&tt[t][e]||f[t]&&f[t][e]},rt=Math.ceil,ot=Math.floor,it=function(t){return isNaN(t=+t)?0:(0<t?ot:rt)(t)},ct=Math.min,ut=function(t){return 0<t?ct(it(t),9007199254740991):0},at=Math.max,lt=Math.min,ft=function(l){return function(t,e,n){var r,o,i,c=b(t),u=ut(c.length),a=(r=u,(o=it(n))<0?at(o+r,0):lt(o,r));if(l&&e!=e){for(;a<u;)if((i=c[a++])!=i)return!0}else for(;a<u;a++)if((l||a in c)&&c[a]===e)return l||a||0;return!l&&-1}},st={includes:ft(!0),indexOf:ft(!1)}.indexOf,pt=function(t,e){var n,r=b(t),o=0,i=[];for(n in r)!S(G,n)&&S(r,n)&&i.push(n);for(;o<e.length;)S(r,n=e[o++])&&(~st(i,n)||i.push(n));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dt=yt.concat("length","prototype"),ht={f:Object.getOwnPropertyNames||function(t){return pt(t,dt)}},vt={f:Object.getOwnPropertySymbols},mt=nt("Reflect","ownKeys")||function(t){var e=ht.f(C(t)),n=vt.f;return n?e.concat(n(t)):e},gt=function(t,e){for(var n=mt(e),r=I.f,o=N.f,i=0;i<n.length;i++){var c=n[i];S(t,c)||r(t,c,o(e,c))}},bt=/#|\.prototype\./,Ot=function(t,e){var n=_t[wt(t)];return n==St||n!=jt&&("function"==typeof e?a(e):!!e)},wt=Ot.normalize=function(t){return(t+"").replace(bt,".").toLowerCase()},_t=Ot.data={},jt=Ot.NATIVE="N",St=Ot.POLYFILL="P",Et=Ot,Pt=N.f,Tt=function(t,e){var n,r,o,i,c,u=t.target,a=t.global,l=t.stat;if(n=a?f:l?f[u]||k(u,{}):(f[u]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(c=Pt(n,r))&&c.value:n[r],!Et(a?r:u+(l?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;gt(i,o)}(t.sham||o&&o.sham)&&M(i,"sham",!0),Z(n,r,i,t)}},At=Array.isArray||function(t){return"Array"==v(t)},xt=function(t){return Object(g(t))},Nt=function(t,e,n){var r=_(e);r in t?I.f(t,r,d(0,n)):t[r]=n},Ct=!!Object.getOwnPropertySymbols&&!a(function(){return!(Symbol()+"")}),zt=f.Symbol,It=F("wks"),Mt=function(t){return It[t]||(It[t]=Ct&&zt[t]||(Ct?zt:W)("Symbol."+t))},kt=Mt("species"),Ft=function(t,e){var n;return At(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!At(n.prototype)?w(n)&&null===(n=n[kt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Rt=Mt("species"),Ut=Mt("isConcatSpreadable"),Lt=9007199254740991,Dt="Maximum allowed index exceeded",Vt=!a(function(){var t=[];return t[Ut]=!1,t.concat()[0]!==t}),Wt=(Y="concat",!a(function(){var t=[];return(t.constructor={})[Rt]=function(){return{foo:1}},1!==t[Y](Boolean).foo})),Jt=function(t){if(!w(t))return!1;var e=t[Ut];return void 0!==e?!!e:At(t)};Tt({target:"Array",proto:!0,forced:!Vt||!Wt},{concat:function(t){var e,n,r,o,i,c=xt(this),u=Ft(c,0),a=0;for(e=-1,r=arguments.length;e<r;e++)if(Jt(i=-1===e?c:arguments[e])){if(o=ut(i.length),Lt<a+o)throw TypeError(Dt);for(n=0;n<o;n++,a++)n in i&&Nt(u,a,i[n])}else{if(Lt<=a)throw TypeError(Dt);Nt(u,a++,i)}return u.length=a,u}});var qt=Mt("toStringTag"),Gt="Arguments"==v(function(){return arguments}()),Ht={};Ht[Mt("toStringTag")]="z";var Kt=Ht+""!="[object z]"?function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),qt))?n:Gt?v(e):"Object"==(r=v(e))&&"function"==typeof e.callee?"Arguments":r)+"]";var t,e,n,r}:Ht.toString,$t=Object.prototype;Kt!==$t.toString&&Z($t,"toString",Kt,{unsafe:!0});var Bt=Object.keys||function(t){return pt(t,yt)},Qt=l?Object.defineProperties:function(t,e){C(t);for(var n,r=Bt(e),o=r.length,i=0;i<o;)I.f(t,n=r[i++],e[n]);return t},Yt=nt("document","documentElement"),Xt=q("IE_PROTO"),Zt="prototype",te=function(){},ee=function(){var t,e=T("iframe"),n=yt.length,r="script";for(e.style.display="none",Yt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object</"+r+">"),t.close(),ee=t.F;n--;)delete ee[Zt][yt[n]];return ee()},ne=Object.create||function(t,e){var n;return null!==t?(te[Zt]=C(t),n=new te,te[Zt]=null,n[Xt]=t):n=ee(),void 0===e?n:Qt(n,e)};G[Xt]=!0;var re=ht.f,oe={}.toString,ie="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ce={f:function(t){return ie&&"[object Window]"==oe.call(t)?function(t){try{return re(t)}catch(t){return ie.slice()}}(t):re(b(t))}},ue={f:Mt},ae=I.f,le=function(t){var e=tt.Symbol||(tt.Symbol={});S(e,t)||ae(e,t,{value:ue.f(t)})},fe=I.f,se=Mt("toStringTag"),pe=function(t,e,n){t&&!S(t=n?t:t.prototype,se)&&fe(t,se,{configurable:!0,value:e})},ye=function(r,o,t){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function")}(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},de=[].push,he=function(y){var d=1==y,h=2==y,v=3==y,m=4==y,g=6==y,b=5==y||g;return function(t,e,n,r){for(var o,i,c=xt(t),u=O(c),a=ye(e,n,3),l=ut(u.length),f=0,s=r||Ft,p=d?s(t,l):h?s(t,0):void 0;f<l;f++)if((b||f in u)&&(i=a(o=u[f],f,c),y))if(d)p[f]=i;else if(i)switch(y){case 3:return!0;case 5:return o;case 6:return f;case 2:de.call(p,o)}else if(m)return!1;return g?-1:v||m?m:p}},ve={forEach:he(0),map:he(1),filter:he(2),some:he(3),every:he(4),find:he(5),findIndex:he(6)}.forEach,me=q("hidden"),ge="Symbol",be="prototype",Oe=Mt("toPrimitive"),we=X.set,_e=X.getterFor(ge),je=Object[be],Se=f.Symbol,Ee=f.JSON,Pe=Ee&&Ee.stringify,Te=N.f,Ae=I.f,xe=ce.f,Ne=y.f,Ce=F("symbols"),ze=F("op-symbols"),Ie=F("string-to-symbol-registry"),Me=F("symbol-to-string-registry"),ke=F("wks"),Fe=f.QObject,Re=!Fe||!Fe[be]||!Fe[be].findChild,Ue=l&&a(function(){return 7!=ne(Ae({},"a",{get:function(){return Ae(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Te(je,e);r&&delete je[e],Ae(t,e,n),r&&t!==je&&Ae(je,e,r)}:Ae,Le=function(t,e){var n=Ce[t]=ne(Se[be]);return we(n,{type:ge,tag:t,description:e}),l||(n.description=e),n},De=Ct&&"symbol"==typeof Se.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Se},Ve=function(t,e,n){t===je&&Ve(ze,e,n),C(t);var r=_(e,!0);return C(n),S(Ce,r)?(n.enumerable?(S(t,me)&&t[me][r]&&(t[me][r]=!1),n=ne(n,{enumerable:d(0,!1)})):(S(t,me)||Ae(t,me,d(1,{})),t[me][r]=!0),Ue(t,r,n)):Ae(t,r,n)},We=function(e,t){C(e);var n=b(t),r=Bt(n).concat(He(n));return ve(r,function(t){l&&!Je.call(n,t)||Ve(e,t,n[t])}),e},Je=function(t){var e=_(t,!0),n=Ne.call(this,e);return!(this===je&&S(Ce,e)&&!S(ze,e))&&(!(n||!S(this,e)||!S(Ce,e)||S(this,me)&&this[me][e])||n)},qe=function(t,e){var n=b(t),r=_(e,!0);if(n!==je||!S(Ce,r)||S(ze,r)){var o=Te(n,r);return!o||!S(Ce,r)||S(n,me)&&n[me][r]||(o.enumerable=!0),o}},Ge=function(t){var e=xe(b(t)),n=[];return ve(e,function(t){S(Ce,t)||S(G,t)||n.push(t)}),n},He=function(t){var e=t===je,n=xe(e?ze:b(t)),r=[];return ve(n,function(t){!S(Ce,t)||e&&!S(je,t)||r.push(Ce[t])}),r};Ct||(Z((Se=function(){if(this instanceof Se)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?arguments[0]+"":void 0,e=W(t),n=function(t){this===je&&n.call(ze,t),S(this,me)&&S(this[me],e)&&(this[me][e]=!1),Ue(this,e,d(1,t))};return l&&Re&&Ue(je,e,{configurable:!0,set:n}),Le(e,t)})[be],"toString",function(){return _e(this).tag}),y.f=Je,I.f=Ve,N.f=qe,ht.f=ce.f=Ge,vt.f=He,l&&(Ae(Se[be],"description",{configurable:!0,get:function(){return _e(this).description}}),Z(je,"propertyIsEnumerable",Je,{unsafe:!0})),ue.f=function(t){return Le(Mt(t),t)}),Tt({global:!0,wrap:!0,forced:!Ct,sham:!Ct},{Symbol:Se}),ve(Bt(ke),function(t){le(t)}),Tt({target:ge,stat:!0,forced:!Ct},{for:function(t){var e=t+"";if(S(Ie,e))return Ie[e];var n=Se(e);return Me[Ie[e]=n]=e,n},keyFor:function(t){if(!De(t))throw TypeError(t+" is not a symbol");if(S(Me,t))return Me[t]},useSetter:function(){Re=!0},useSimple:function(){Re=!1}}),Tt({target:"Object",stat:!0,forced:!Ct,sham:!l},{create:function(t,e){return void 0===e?ne(t):We(ne(t),e)},defineProperty:Ve,defineProperties:We,getOwnPropertyDescriptor:qe}),Tt({target:"Object",stat:!0,forced:!Ct},{getOwnPropertyNames:Ge,getOwnPropertySymbols:He}),Tt({target:"Object",stat:!0,forced:a(function(){vt.f(1)})},{getOwnPropertySymbols:function(t){return vt.f(xt(t))}}),Ee&&Tt({target:"JSON",stat:!0,forced:!Ct||a(function(){var t=Se();return"[null]"!=Pe([t])||"{}"!=Pe({a:t})||"{}"!=Pe(Object(t))})},{stringify:function(t){for(var e,n,r=[t],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=e=r[1],(w(e)||void 0!==t)&&!De(t))return At(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!De(e))return e}),r[1]=e,Pe.apply(Ee,r)}}),Se[be][Oe]||M(Se[be],Oe,Se[be].valueOf),pe(Se,ge),G[me]=!0,le("asyncIterator");var Ke=I.f,$e=f.Symbol;if(l&&"function"==typeof $e&&(!("description"in $e.prototype)||void 0!==$e().description)){var Be={},Qe=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:arguments[0]+"",e=this instanceof Qe?new $e(t):void 0===t?$e():$e(t);return""===t&&(Be[e]=!0),e};gt(Qe,$e);var Ye=Qe.prototype=$e.prototype;Ye.constructor=Qe;var Xe=Ye.toString,Ze=$e("test")+""=="Symbol(test)",tn=/^Symbol\((.*)\)[^)]+$/;Ke(Ye,"description",{configurable:!0,get:function(){var t=w(this)?this.valueOf():this,e=Xe.call(t);if(S(Be,t))return"";var n=Ze?e.slice(7,-1):e.replace(tn,"$1");return""===n?void 0:n}}),Tt({global:!0,forced:!0},{Symbol:Qe})}le("hasInstance"),le("isConcatSpreadable"),le("iterator"),le("match"),le("matchAll"),le("replace"),le("search"),le("species"),le("split"),le("toPrimitive"),le("toStringTag"),le("unscopables"),pe(Math,"Math",!0),pe(f.JSON,"JSON",!0);var en,nn,rn,on,cn,un,an,ln,fn,sn=function(){},pn=function(t){return null!=t},yn=Array.prototype.forEach,dn=Object.create,hn=function(t){var e=dn(null);return yn.call(arguments,function(t){pn(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e},vn="function"==typeof(en=Math.sign)&&1===en(10)&&-1===en(-20)?Math.sign:function(t){return isNaN(t=+t)||0===t?t:0<t?1:-1},mn=Math.abs,gn=Math.floor,bn=Math.max,On=function(t){return bn(0,isNaN(e=t)?0:0!=(e=+e)&&isFinite(e)?vn(e)*gn(mn(e)):e);var e},wn=function(t,e,n){var r;return isNaN(t)?0>(r=e)?1:n&&r?r-1:r:!1!==t&&On(t)},_n=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},jn=function(t){if(!pn(t))throw new TypeError("Cannot use null or undefined");return t},Sn=Function.prototype.bind,En=Function.prototype.call,Pn=Object.keys,Tn=Object.prototype.propertyIsEnumerable,An=(nn="forEach",function(n,r){var t,o=arguments[2],e=arguments[3];return n=Object(jn(n)),_n(r),t=Pn(n),e&&t.sort("function"==typeof e?Sn.call(e,n):void 0),"function"!=typeof nn&&(nn=t[nn]),En.call(nn,t,function(t,e){return Tn.call(n,t)?En.call(r,o,n[t],t,n,e):rn})}),xn=Object.freeze({}),Nn=Object.keys,Cn=function(){try{return!0}catch(t){return!1}}()?Object.keys:function(t){return Nn(pn(t)?Object(t):t)},zn=Math.max,In="function"==typeof(cn=Object.assign)&&(cn(on={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),on.foo+on.bar+on.trzy==="razdwatrzy")?Object.assign:function(e,n){var r,t,o,i=zn(arguments.length,2);for(e=Object(jn(e)),o=function(t){try{e[t]=n[t]}catch(t){r||(r=t)}},t=1;t<i;++t)Cn(n=arguments[t]).forEach(o);if(void 0!==r)throw r;return e},Mn={function:!0,object:!0},kn=n(function(t,i){var c=Error.captureStackTrace;i=t.exports=function(t){var e,n=Error(t),r=arguments[1],o=arguments[2];return pn(o)||pn(e=r)&&Mn[typeof e]&&(o=r,r=null),pn(o)&&In(n,o),pn(r)&&(n.code=r),c&&c(n,i),n}}),Fn=Object.defineProperty,Rn=Object.getOwnPropertyDescriptor,Un=Object.getOwnPropertyNames,Ln=Object.getOwnPropertySymbols,Dn=function(e,n){var r,t=Object(jn(n));if(e=Object(jn(e)),Un(t).forEach(function(t){try{Fn(e,t,Rn(n,t))}catch(t){r=t}}),"function"==typeof Ln&&Ln(t).forEach(function(t){try{Fn(e,t,Rn(n,t))}catch(t){r=t}}),void 0!==r)throw r;return e},Vn=n(function(t){var r,o,i,e=function(t,e){return e};try{Object.defineProperty(e,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(t){}o=Dn,i=[],r=function(t){var e,n=0;if(i[t])return i[t];for(e=[];t--;)e.push("a"+(++n).toString(36));return Function("fn","return function ("+e.join(", ")+") { return fn.apply(this, arguments); };")},t.exports=function(t,e){var n;if(e=On(e),t.length===e)return t;n=r(e)(t);try{o(n,t)}catch(t){}return n}}),Wn=function(t){return"function"==typeof t},Jn="razdwatrzy",qn=String.prototype.indexOf,Gn="function"==typeof Jn.contains&&!0===Jn.contains("dwa")&&!1===Jn.contains("foo")?String.prototype.contains:function(t){return-1<qn.call(this,t,arguments[1])},Hn=n(function(t){(t.exports=function(t,e){var n,r,o,i,c;return arguments.length<2||"string"!=typeof t?(i=e,e=t,t=null):i=arguments[2],null==t?(n=o=!0,r=!1):(n=Gn.call(t,"c"),r=Gn.call(t,"e"),o=Gn.call(t,"w")),c={value:e,configurable:n,enumerable:r,writable:o},i?In(hn(i),c):c}).gs=function(t,e,n){var r,o,i,c;return"string"!=typeof t?(i=n,n=e,e=t,t=null):i=arguments[3],null==e?e=void 0:Wn(e)?null==n?n=void 0:Wn(n)||(i=n,n=void 0):(i=e,e=n=void 0),o=null==t?!(r=!0):(r=Gn.call(t,"c"),Gn.call(t,"e")),c={get:e,set:n,configurable:r,enumerable:o},i?In(hn(i),c):c}}),Kn=n(function(t,e){var o,n,i,r,c,u,a,l=Function.prototype.apply,f=Function.prototype.call,s=Object.create,p=Object.defineProperty,y=Object.defineProperties,d=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var n,r;return _n(e),o.call(r=this,t,n=function(){i.call(r,t,n),l.call(e,this,arguments)}),n.__eeOnceListener__=e,this},c={on:o=function(t,e){var n;return _n(e),d.call(this,"__ee__")?n=this.__ee__:(n=h.value=s(null),p(this,"__ee__",h),h.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:n,off:i=function(t,e){var n,r,o,i;if(_n(e),!d.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(i=0;o=r[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:r=function(t){var e,n,r,o,i;if(d.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(i=Array((n=arguments.length)-1),e=1;e<n;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)l.call(r,this,i)}else switch(arguments.length){case 1:f.call(o,this);break;case 2:f.call(o,this,arguments[1]);break;case 3:f.call(o,this,arguments[1],arguments[2]);break;default:for(i=Array((n=arguments.length)-1),e=1;e<n;++e)i[e-1]=arguments[e];l.call(o,this,i)}}},u={on:Hn(o),once:Hn(n),off:Hn(i),emit:Hn(r)},a=y({},u),t.exports=e=function(t){return null==t?s(a):y(Object(t),u)},e.methods=c}),$n={object:!0,symbol:!0},Bn=function(t){if(!(e=t)||!("symbol"==typeof e||e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))throw new TypeError(t+" is not a symbol");var e;return t},Qn=Object.create,Yn=Object.defineProperties,Xn=Object.defineProperty,Zn=Object.prototype,tr=Qn(null);if("function"==typeof Symbol){un=Symbol;try{un(),fn=!0}catch(t){}}var er,nr=(er=Qn(null),function(t){for(var e,n,r=0;er[t+(r||"")];)++r;return er[t+=r||""]=!0,Xn(Zn,e="@@"+t,Hn.gs(null,function(t){n||(n=!0,Xn(this,e,Hn(t)),n=!1)})),e});ln=function(t){if(this instanceof ln)throw new TypeError("Symbol is not a constructor");return an(t)};var rr=an=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return fn?un(e):(n=Qn(ln.prototype),Yn(n,{__description__:Hn("",e=void 0===e?"":e+""),__name__:Hn("",nr(e))}))};Yn(an,{for:Hn(function(t){return tr[t]?tr[t]:tr[t]=an(t+"")}),keyFor:Hn(function(t){var e;for(e in Bn(t),tr)if(tr[e]===t)return e}),hasInstance:Hn("",un&&un.hasInstance||an("hasInstance")),isConcatSpreadable:Hn("",un&&un.isConcatSpreadable||an("isConcatSpreadable")),iterator:Hn("",un&&un.iterator||an("iterator")),match:Hn("",un&&un.match||an("match")),replace:Hn("",un&&un.replace||an("replace")),search:Hn("",un&&un.search||an("search")),species:Hn("",un&&un.species||an("species")),split:Hn("",un&&un.split||an("split")),toPrimitive:Hn("",un&&un.toPrimitive||an("toPrimitive")),toStringTag:Hn("",un&&un.toStringTag||an("toStringTag")),unscopables:Hn("",un&&un.unscopables||an("unscopables"))}),Yn(ln.prototype,{constructor:Hn(an),toString:Hn("",function(){return this.__name__})}),Yn(an.prototype,{toString:Hn(function(){return"Symbol ("+Bn(this).__description__+")"}),valueOf:Hn(function(){return Bn(this)})}),Xn(an.prototype,an.toPrimitive,Hn("",function(){var t=Bn(this);return"symbol"==typeof t?t:""+t})),Xn(an.prototype,an.toStringTag,Hn("c","Symbol")),Xn(ln.prototype,an.toStringTag,Hn("c",an.prototype[an.toStringTag])),Xn(ln.prototype,an.toPrimitive,Hn("c",an.prototype[an.toPrimitive]));var or,ir,cr,ur,ar="function"==typeof Symbol&&(Symbol("test symbol"),$n[typeof Symbol.iterator]&&$n[typeof Symbol.toPrimitive]&&$n[typeof Symbol.toStringTag])?Symbol:rr,lr=Object.prototype.toString,fr=lr.call(function(){return arguments}()),sr=Object.prototype.toString,pr=sr.call(sn),yr=Object.prototype.toString,dr=yr.call(""),hr=ar.iterator,vr=Array.isArray,mr=Function.prototype.call,gr={configurable:!0,enumerable:!0,writable:!0,value:null},br=Object.defineProperty,Or="function"==typeof(cr=Array.from)&&(ir=cr(or=["raz","dwa"]))&&ir!==or&&"dwa"===ir[1]?Array.from:function(t){var e,n,r,o,i,c,u,a,l,f,s,p,y=arguments[1],d=arguments[2];if(t=Object(jn(t)),pn(y)&&_n(y),this&&this!==Array&&"function"==typeof(s=this)&&sr.call(s)===pr)e=this;else{if(!y){if(lr.call(t)===fr)return 1!==(i=t.length)?Array.apply(null,t):((o=Array(1))[0]=t[0],o);if(vr(t)){for(o=Array(i=t.length),n=0;n<i;++n)o[n]=t[n];return o}}o=[]}if(!vr(t))if(void 0!==(l=t[hr])){for(u=_n(l).call(t),e&&(o=new e),a=u.next(),n=0;!a.done;)f=y?mr.call(y,d,a.value,n):a.value,e?(gr.value=f,br(o,n,gr)):o[n]=f,a=u.next(),++n;i=n}else if("string"==typeof(p=t)||p&&"object"==typeof p&&(p instanceof String||yr.call(p)===dr)){for(i=t.length,e&&(o=new e),r=n=0;n<i;++n)f=t[n],n+1<i&&((c=f.charCodeAt(0))<55296||56319<c||(f+=t[++n])),f=y?mr.call(y,d,f,r):f,e?(gr.value=f,br(o,r,gr)):o[r]=f,++r;i=r}if(void 0===i)for(i=On(t.length),e&&(o=new e(i)),n=0;n<i;++n)f=y?mr.call(y,d,t[n],n):t[n],e?(gr.value=f,br(o,n,gr)):o[n]=f;return e&&(gr.value=null,o.length=i),o},wr=Array.isArray,_r=Array.prototype.slice;ur=function(n){return this.map(function(t,e){return t?t(n[e]):n[e]}).concat(_r.call(n,this.length))};var jr,Sr,Er,Pr=function(t){var e;return(t=wr(e=t)?e:Or(e)).forEach(function(t){pn(t)&&_n(t)}),ur.bind(t)},Tr=Kn.methods,Ar=Function.prototype.apply,xr=Function.prototype.call,Nr=Object.create,Cr=Object.defineProperties,zr=Tr.on,Ir=Tr.emit,Mr=function(o,n,t){var i,e,c,u,r,a,l,f,s,p,y,d,h,v,m,g,b,O=Nr(null);return e=!1!==n?n:isNaN(o.length)?1:o.length,t.normalizer&&(p="function"==typeof(g=t.normalizer)?{set:g,get:g}:(b={get:_n(g.get)},void 0!==g.set?(b.set=_n(g.set),g.delete&&(b.delete=_n(g.delete)),g.clear&&(b.clear=_n(g.clear))):b.set=b.get,b),c=p.get,u=p.set,r=p.delete,a=p.clear),null!=t.resolvers&&(m=Pr(t.resolvers)),v=c?Vn(function(t){var e,n,r=arguments;if(m&&(r=m(r)),null!==(e=c(r))&&hasOwnProperty.call(O,e))return y&&i.emit("get",e,r,this),O[e];if(n=1===r.length?xr.call(o,this,r[0]):Ar.call(o,this,r),null===e){if(null!==(e=c(r)))throw kn("Circular invocation","CIRCULAR_INVOCATION");e=u(r)}else if(hasOwnProperty.call(O,e))throw kn("Circular invocation","CIRCULAR_INVOCATION");return O[e]=n,d&&i.emit("set",e,null,n),n},e):0===n?function(){var t;if(hasOwnProperty.call(O,"data"))return y&&i.emit("get","data",arguments,this),O.data;if(t=arguments.length?Ar.call(o,this,arguments):xr.call(o,this),hasOwnProperty.call(O,"data"))throw kn("Circular invocation","CIRCULAR_INVOCATION");return O.data=t,d&&i.emit("set","data",null,t),t}:function(t){var e,n,r=arguments;if(m&&(r=m(arguments)),n=r[0]+"",hasOwnProperty.call(O,n))return y&&i.emit("get",n,r,this),O[n];if(e=1===r.length?xr.call(o,this,r[0]):Ar.call(o,this,r),hasOwnProperty.call(O,n))throw kn("Circular invocation","CIRCULAR_INVOCATION");return O[n]=e,d&&i.emit("set",n,null,e),e},i={original:o,memoized:v,profileName:t.profileName,get:function(t){return m&&(t=m(t)),c?c(t):t[0]+""},has:function(t){return hasOwnProperty.call(O,t)},delete:function(t){var e;hasOwnProperty.call(O,t)&&(r&&r(t),e=O[t],delete O[t],h&&i.emit("delete",t,e))},clear:function(){var t=O;a&&a(),O=Nr(null),i.emit("clear",t)},on:function(t,e){return"get"===t?y=!0:"set"===t?d=!0:"delete"===t&&(h=!0),zr.call(this,t,e)},emit:Ir,updateEnv:function(){o=i.original}},l=c?Vn(function(t){var e,n=arguments;m&&(n=m(n)),null!==(e=c(n))&&i.delete(e)},e):0===n?function(){return i.delete("data")}:function(t){return m&&(t=m(arguments)[0]),i.delete(t)},f=Vn(function(){var t,e=arguments;return 0===n?O.data:(m&&(e=m(e)),t=c?c(e):e[0]+"",O[t])}),s=Vn(function(){var t,e=arguments;return 0===n?i.has("data"):(m&&(e=m(e)),null!==(t=c?c(e):e[0]+"")&&i.has(t))}),Cr(v,{__memoized__:Hn(!0),delete:Hn(l),clear:Hn(i.clear),_get:Hn(f),_has:Hn(s)}),i},kr=function(t){var e,n,r=t.length;if(!r)return"";for(e=t[n=0]+"";--r;)e+=""+t[++n];return e},Fr="function"!=typeof(jr=Number.isNaN)||jr({})||!jr(NaN)||jr(34)?function(t){return t!=t}:Number.isNaN,Rr=Array.prototype.indexOf,Ur=Object.prototype.hasOwnProperty,Lr=Math.abs,Dr=Math.floor,Vr=function(t){var e,n,r;if(!Fr(t))return Rr.apply(this,arguments);for(n=On(jn(this).length),e=r=isNaN(r=arguments[1])?0:r<0?On(this.length)-Dr(Lr(r)):Dr(r);e<n;++e)if(Ur.call(this,e)&&Fr(this[e]))return e;return-1},Wr=Object.create,Jr=Object.create,qr=Function.prototype.call,Gr=function(t,o){var i={},c=arguments[2];return _n(o),An(t,function(t,e,n,r){i[e]=qr.call(o,c,t,e,n,r)}),i};Sr=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},Er=function(t){var e,n,r=document.createTextNode(""),o=0;return new t(function(){var t;if(e)n&&(e=n.concat(e));else{if(!n)return;e=n}if(n=e,e=null,"function"==typeof n)return t=n,n=null,void t();for(r.data=o=++o%2;n;)t=n.shift(),n.length||(n=null),t()}).observe(r,{characterData:!0}),function(t){Sr(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,r.data=o=++o%2)}};var Hr=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return Er(MutationObserver);if("function"==typeof WebKitMutationObserver)return Er(WebKitMutationObserver)}return"function"==typeof setImmediate?function(t){setImmediate(Sr(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(Sr(t),0)}:null}(),Kr=Array.prototype.slice,$r=Function.prototype.apply,Br=Object.create;xn.async=function(t,c){var u,a,l,f=Br(null),s=Br(null),i=c.memoized,r=c.original;c.memoized=Vn(function(t){var e=arguments,n=e[e.length-1];return"function"==typeof n&&(u=n,e=Kr.call(e,0,-1)),i.apply(a=this,l=e)},i);try{Dn(c.memoized,i)}catch(t){}c.on("get",function(e){var n,r,o;if(u){if(f[e])return"function"==typeof f[e]?f[e]=[f[e],u]:f[e].push(u),void(u=null);n=u,r=a,o=l,u=a=l=null,Hr(function(){var t;hasOwnProperty.call(s,e)?(t=s[e],c.emit("getasync",e,o,r),$r.call(n,t.context,t.args)):(u=n,i.apply(a=r,l=o))})}}),c.original=function(){var t,e,n,i;return u?(t=Or(arguments),n=u,u=a=l=null,t.push(e=function t(e){var n,r,o=t.id;if(null!=o){if(delete t.id,n=f[o],delete f[o],n)return r=Or(arguments),c.has(o)&&(e?c.delete(o):(s[o]={context:this,args:r},c.emit("setasync",o,"function"==typeof n?1:n.length))),"function"==typeof n?i=$r.call(n,this,r):n.forEach(function(t){i=$r.call(t,this,r)},this),i}else Hr($r.bind(t,this,arguments))}),i=$r.call(r,this,t),e.cb=n,u=e,i):$r.call(r,this,arguments)},c.on("set",function(t){u?(f[t]?"function"==typeof f[t]?f[t]=[f[t],u.cb]:f[t].push(u.cb):f[t]=u.cb,delete u.cb,u.id=t,u=null):c.delete(t)}),c.on("delete",function(t){var e;hasOwnProperty.call(f,t)||s[t]&&(e=s[t],delete s[t],c.emit("deleteasync",t,Kr.call(e.args,1)))}),c.on("clear",function(){var t=s;s=Br(null),c.emit("clearasync",Gr(t,function(t){return Kr.call(t.args,1)}))})};var Qr=Array.prototype.forEach,Yr=Object.create,Xr=function(t){return function(t){try{return t&&Wn(t.toString)?""+t:t+""}catch(t){throw new TypeError("Passed argument cannot be stringifed")}}(jn(t))},Zr=/[\n\r\u2028\u2029]/g,to=function(t){var e=function(t){try{return t&&Wn(t.toString)?""+t:t+""}catch(t){return"<Non-coercible to string value>"}}(t);return 100<e.length&&(e=e.slice(0,99)+"…"),e=e.replace(Zr,function(t){return JSON.stringify(t).slice(1,-1)})},eo=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};var no=Object.create,ro=function(t){var e=Yr(null);return Qr.call(arguments,function(t){e[t]=!0}),e}("then","then:finally","done","done:finally");xn.promise=function(a,l){var f=no(null),s=no(null),p=no(null);if(!0===a)a=null;else if(a=Xr(a),!ro[a])throw new TypeError("'"+to(a)+"' is not valid promise mode");l.on("set",function(n,t,e){var r=!1;if(!eo(e))return s[n]=e,void l.emit("setasync",n,1);f[n]=1,p[n]=e;var o=function(t){var e=f[n];if(r)throw Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");e&&(delete f[n],s[n]=t,l.emit("setasync",n,e))},i=function(){r=!0,f[n]&&(delete f[n],delete p[n],l.delete(n))},c=a;if(c||(c="then"),"then"===c){var u=function(){Hr(i)};"function"==typeof(e=e.then(function(t){Hr(o.bind(this,t))},u)).finally&&e.finally(u)}else if("done"===c){if("function"!=typeof e.done)throw Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");e.done(o,i)}else if("done:finally"===c){if("function"!=typeof e.done)throw Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof e.finally)throw Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");e.done(o),e.finally(i)}}),l.on("get",function(t,e,n){var r;if(f[t])++f[t];else{var o=function(){l.emit("getasync",t,e,n)};eo(r=p[t])?"function"==typeof r.done?r.done(o):r.then(function(){Hr(o)}):o()}}),l.on("delete",function(t){if(delete p[t],f[t])delete f[t];else if(hasOwnProperty.call(s,t)){var e=s[t];delete s[t],l.emit("deleteasync",t,[e])}}),l.on("clear",function(){var t=s;s=no(null),f=no(null),p=no(null),l.emit("clearasync",Gr(t,function(t){return[t]}))})};var oo=Function.prototype.apply;xn.dispose=function(n,t,e){var r;if(_n(n),e.async&&xn.async||e.promise&&xn.promise)return t.on("deleteasync",r=function(t,e){oo.call(n,null,e)}),void t.on("clearasync",function(t){An(t,function(t,e){r(e,t)})});t.on("delete",r=function(t,e){n(e)}),t.on("clear",function(t){An(t,function(t,e){r(e,t)})})};var io=Function.prototype,co=Math.max,uo=Math.min,ao=Object.create;xn.maxAge=function(e,o,i){var n,t,r,c;(e=function(t){if(2147483647<(t=On(t)))throw new TypeError(t+" exceeds maximum possible timeout");return t}(e))&&(n=ao(null),o.on("set"+(t=i.async&&xn.async||i.promise&&xn.promise?"async":""),function(t){n[t]=setTimeout(function(){o.delete(t)},e),"function"==typeof n[t].unref&&n[t].unref(),c&&(c[t]&&"nextTick"!==c[t]&&clearTimeout(c[t]),c[t]=setTimeout(function(){delete c[t]},r),"function"==typeof c[t].unref&&c[t].unref())}),o.on("delete"+t,function(t){clearTimeout(n[t]),delete n[t],c&&("nextTick"!==c[t]&&clearTimeout(c[t]),delete c[t])}),i.preFetch&&(r=!0===i.preFetch||isNaN(i.preFetch)?.333:co(uo(+i.preFetch,1),0))&&(c={},r=(1-r)*e,o.on("get"+t,function(e,n,r){c[e]||(c[e]="nextTick",Hr(function(){var t;"nextTick"===c[e]&&(delete c[e],o.delete(e),i.async&&(n=Or(n)).push(io),t=o.memoized.apply(r,n),i.promise&&eo(t)&&("function"==typeof t.done?t.done(io,io):t.then(io,io)))}))})),o.on("clear"+t,function(){An(n,function(t){clearTimeout(t)}),n={},c&&(An(c,function(t){"nextTick"!==t&&clearTimeout(t)}),c={})}))};var lo=Object.create,fo=Object.prototype.hasOwnProperty;xn.max=function(t,e,n){var r,o,i,c,u,a,l,f,s,p;(t=On(t))&&(c=t,a=0,l=1,f=lo(null),s=lo(null),p=0,c=On(c),o={hit:function(t){var e=s[t],n=++p;if(s[f[n]=t]=n,!e){if(++a<=c)return;return u(t=f[l]),t}if(delete f[e],l===e)for(;!fo.call(f,++l);)continue},delete:u=function(t){var e=s[t];if(e&&(delete f[e],delete s[t],--a,l===e)){if(!a)return p=0,void(l=1);for(;!fo.call(f,++l);)continue}},clear:function(){a=0,l=1,f=lo(null),s=lo(null),p=0}},e.on("set"+(r=n.async&&xn.async||n.promise&&xn.promise?"async":""),i=function(t){void 0!==(t=o.hit(t))&&e.delete(t)}),e.on("get"+r,i),e.on("delete"+r,o.delete),e.on("clear"+r,o.clear))};var so=Object.create,po=Object.defineProperties;xn.refCounter=function(t,e,n){var r,o;r=so(null),e.on("set"+(o=n.async&&xn.async||n.promise&&xn.promise?"async":""),function(t,e){r[t]=e||1}),e.on("get"+o,function(t){++r[t]}),e.on("delete"+o,function(t){delete r[t]}),e.on("clear"+o,function(){r={}}),po(e.memoized,{deleteRef:Hn(function(){var t=e.get(arguments);return null===t?null:r[t]?!--r[t]&&(e.delete(t),!0):null}),getRefCount:Hn(function(){var t=e.get(arguments);return null===t?0:r[t]?r[t]:0})})};var yo=function(t){var e,c,o,u,a,n,r,i,l,f,s,p,y=hn(arguments[1]);if(y.normalizer||0!==(e=y.length=wn(y.length,t.length,y.async))&&(y.primitive?!1===e?y.normalizer=kr:1<e&&(y.normalizer=(p=e)?function(t){for(var e=t[0]+"",n=0,r=p;--r;)e+=""+t[++n];return e}:function(){return""}):y.normalizer=!1===e?(l=0,f=[],s=Wr(null),{get:function(t){var e,n=0,r=f,o=t.length;if(0===o)return r[o]||null;if(r=r[o]){for(;n<o-1;){if(-1===(e=Vr.call(r[0],t[n])))return null;r=r[1][e],++n}return-1===(e=Vr.call(r[0],t[n]))?null:r[1][e]||null}return null},set:function(t){var e,n=0,r=f,o=t.length;if(0===o)r[o]=++l;else{for(r[o]||(r[o]=[[],[]]),r=r[o];n<o-1;)-1===(e=Vr.call(r[0],t[n]))&&(e=r[0].push(t[n])-1,r[1].push([[],[]])),r=r[1][e],++n;-1===(e=Vr.call(r[0],t[n]))&&(e=r[0].push(t[n])-1),r[1][e]=++l}return s[l]=t,l},delete:function(t){var e,n=0,r=f,o=s[t],i=o.length,c=[];if(0===i)delete r[i];else if(r=r[i]){for(;n<i-1;){if(-1===(e=Vr.call(r[0],o[n])))return;c.push(r,e),r=r[1][e],++n}if(-1===(e=Vr.call(r[0],o[n])))return;for(t=r[1][e],r[0].splice(e,1),r[1].splice(e,1);!r[0].length&&c.length;)e=c.pop(),(r=c.pop())[0].splice(e,1),r[1].splice(e,1)}delete s[t]},clear:function(){f=[],s=Wr(null)}}):1===e?(n=0,r=[],i=[],{get:function(t){var e=Vr.call(r,t[0]);return-1===e?null:i[e]},set:function(t){return r.push(t[0]),i.push(++n),n},delete:function(t){var e=Vr.call(i,t);-1!==e&&(r.splice(e,1),i.splice(e,1))},clear:function(){r=[],i=[]}}):(c=e,o=0,u=[[],[]],a=Jr(null),{get:function(t){for(var e,n=0,r=u;n<c-1;){if(-1===(e=Vr.call(r[0],t[n])))return null;r=r[1][e],++n}return-1===(e=Vr.call(r[0],t[n]))?null:r[1][e]||null},set:function(t){for(var e,n=0,r=u;n<c-1;)-1===(e=Vr.call(r[0],t[n]))&&(e=r[0].push(t[n])-1,r[1].push([[],[]])),r=r[1][e],++n;return-1===(e=Vr.call(r[0],t[n]))&&(e=r[0].push(t[n])-1),r[1][e]=++o,a[o]=t,o},delete:function(t){for(var e,n=0,r=u,o=[],i=a[t];n<c-1;){if(-1===(e=Vr.call(r[0],i[n])))return;o.push(r,e),r=r[1][e],++n}if(-1!==(e=Vr.call(r[0],i[n]))){for(t=r[1][e],r[0].splice(e,1),r[1].splice(e,1);!r[0].length&&o.length;)e=o.pop(),(r=o.pop())[0].splice(e,1),r[1].splice(e,1);delete a[t]}},clear:function(){u=[[],[]],a=Jr(null)}})),y.async&&y.promise&&y.dispose&&y.maxAge&&y.max&&y.refCounter)return function t(e){var n,r,o;if(_n(e),(n=Object(arguments[1])).async&&n.promise)throw Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!n.force?e:(r=wn(n.length,e.length,n.async&&xn.async),o=Mr(e,r,n),An(xn,function(t,e){n[e]&&t(n[e],o,n)}),t.__profiler__&&t.__profiler__(o),o.updateEnv(),o.memoized)}(t,y)},ho=process.env.NODE_ENV,vo=function(t,e,n,r,o,i,c,u){if("production"!==ho&&void 0===e)throw Error("invariant requires an error message argument");if(!t){var a;if(void 0===e)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,c,u],f=0;(a=Error(e.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}},mo={invalidConditionType:"Epic: [0], Updater: [1], Condition: [2] -> Invalid Type: Condition.type should be of type string",invalidConditionSelector:"Epic: [0], Updater: [1], Condition: [2] -> Invalid Type: Condition.selector (if provided) should be of type function",duplicateEpic:"Epic: [0] -> Epic with same name is already registered",noPassiveUpdaters:"Epic: [0], Updater: [1] -> Updaters should have atleast one non passive condition",noDispatchInEpicListener:"Epic listeners should not dispatch actions",invalidHandlerUpdate:"Epic: [0], Updater: [1] -> Updater Handler should not change the type of state or scope",invalidEpicAction:"A registered Epic: [0] cannot be dispatched as an external action",noRepeatedExternalAction:"An external action of type: [0] has already been dispatched during the current Epic Cycle"},go=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(t,e,n){return t.replace("["+n+"]",e)},mo[t])},bo=function(r){return function(n){return function(e){return function(t){return go(t,r,n,e)}}}},Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},jo=function(t){return Array.isArray(t)?t:Array.from(t)},So=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Eo="MERGE_ERROR",Po=Symbol("____ricochet_initial_value____"),To=function(t){return t.constructor===Array},Ao=function(t){return null!==t&&"object"===(void 0===t?"undefined":Oo(t))},xo=function(t){return[].concat(So(Object.getOwnPropertyNames(t)),So(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]))},No=function(t,e){for(var n=arguments.length,r=Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i;return(i=xo(t))[e].apply(i,r)},Co=function e(n){return Ao(n)&&(Object.freeze(n),No(n,"forEach",function(t){return e(n[t])})),n},zo=function n(r){return Ao(r)?No(r,"reduce",function(t,e){return t[e]=n(r[e]),t},To(r)?[]:{}):r},Io=function(e){return function(t){return e.reduce(function(t,e){return e(t),t},t)}},Mo=function(t){return Co("string"==typeof t?{type:t}:t)},ko=function(t,e){return(0,t.selector)(e.payload,e.type)},Fo=function(t){return RegExp("^"+t.replace(/\*/g,".*?")+"$")},Ro=function(t){return t.hasOwnProperty("_value")&&!function e(n,r){return n===r||!(!Ao(n)||!Ao(r))&&No(n,"every",function(t){return r.hasOwnProperty(t)})&&No(r,"every",function(t){return n.hasOwnProperty(t)&&e(n[t],r[t])})}(t._value,t.value)};function Uo(t,e,n){if(e.constructor===Array)return e.map(Uo.bind(null,t));e="string"==typeof e?{type:e}:wo({},e);var r=t(n);vo("string"==typeof e.type,r("invalidConditionType"));var o=t(e.type);return e.selector=e.selector?(vo("function"==typeof e.selector,o("invalidConditionSelector")),yo(e.selector,{max:1})):function(t){return t},e.hasOwnProperty("value")||(e.value=Po),e}var Lo=function(t,e){e&&t.hasOwnProperty("_value")&&(t.value=t._value),delete t._value,delete t.matchedPattern};t.createStore=function(t){var e=t.debug,n=void 0!==e&&e,r=t.patterns,s=void 0!==r&&r,o=t.undo,d=void 0!==o&&o,i=t.maxUndoStack,c=void 0===i?10:i,u={},l={},f={},p={},y={},h={},a=[],v=[],m={type:"STORE_UNDO"},g={type:"STORE_REDO"};u.register=function(t){var i=t.name,e=t.state,n=void 0===e?Po:e,r=t.scope,o=void 0===r?Po:r,c=t.updaters,u=void 0===c?[]:c,a=bo(i);vo(!l[i],go("duplicateEpic",i)),l[i]={state:Co(null===n?Po:n),scope:Co(null===o?Po:o),updaters:u.map(function(t,e){var n=t.conditions,o=t.handler;return a=a(e),function n(t){var r=jo(t).slice(0),o=[];return r.some(function(t,e){return t.constructor===Array&&(t.forEach(function(t){r[e]=t,o.push.apply(o,So(n(r)))}),!0)}),o.length?o:[r]}(n=n.map(Uo.bind(null,a))).map(function(t){vo(t.find(function(t){return!t.passive}),a()("noPassiveUpdaters"));var r={epic:i,handler:o,conditions:t,index:e};return t.forEach(function(t){var e=t.type,n=f;s&&/\*/.test(e)&&(n=p),n[e]||(n[e]=[]),n[e].push(r)}),r})})}},u.unregister=function(t){var n=t.name||t;l[n]&&(delete l[n],[f,p].forEach(function(e){Object.keys(e).forEach(function(t){e[t]=e[t].filter(function(t){return t.epic!==n})})}))};var b,O,w,_,j,S,E,P,T,A=function(t){return t.map(function(t){var e=t.hasOwnProperty("_value")?t._value:t.value;if(e===Po){var n=l[t.type];n&&(e=t._value=ko(t,n.state))}return e===Po?void 0:e})},x=function(a,r){var o=[],l=[],f=Object.keys(a);return f.forEach(function(e){var n=y[e]||[];s&&Object.keys(h).forEach(function(t){Fo(t).test(e)&&n.push.apply(n,So(h[t]))}),n.forEach(function(t){if(!t.processed){t.processed=!0,o.push(t);var i=!1,c=!1,u=!1,e=t.conditions,n=t.handler;if(e.forEach(function(t){var e=t.type,n=t.passive,r=t.required;if(s&&/\*/.test(e)){var o=Fo(e);f.some(function(t){return o.test(t)})?r?i=!0:n||(c=!0):r&&(u=i=!0)}else a[e]?(t._value=ko(t,{type:e,payload:a[e]}),r?(i=!0,Ro(t)||(u=!0)):!n&&Ro(t)&&(c=!0)):r&&(u=i=!0)}),i?!u:c)try{n(A(e),{sourceAction:r})}catch(t){l.push(t)}}})}),o.forEach(function(t){t.conditions.forEach(Lo.bind(null,!0)),delete t.processed}),l};if(u.dispatch=(E=S=j=_=w=O=b=void 0,P=function(e,t,n){var f=t.epic,r=t.conditions,o=t.handler,s=t.index;if((!e.passive||r.some(function(t){return!t.passive&&(t.matchedPattern||Ro(t))}))&&r.every(function(t){return t===e||t.passive||!t.required||t.matchedPattern||Ro(t)})){var p=l[f];p._state=p.hasOwnProperty("_state")?p._state:p.state,p._scope=p.hasOwnProperty("_scope")?p._scope:p.scope;var y=o(A(r),{state:p.state,currentCycleState:p._state,scope:p.scope,currentCycleScope:p._scope,sourceAction:b}),i=function(t){var e,n,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Function.prototype;if(y.hasOwnProperty(t)){var i=void 0,c=void 0,u=void 0;try{var a=function u(a,l){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(a!==Po){var e=Ao(a);if(Ao(l)===e){if(e){var n=To(a);if(To(l)===n){if(!n){var f={},s=[],p=[];return new Set([].concat(So(xo(a)),So(xo(l)))).forEach(function(e){var t=a[e],n=l[e];if(a.hasOwnProperty(e))if(l.hasOwnProperty(e)){var r=u(t,n,!0),o=_o(r,3),i=o[1],c=o[2];f[e]=o[0],s.push(function(t){return t[e]=i(t[e])}),p.push(function(t){return t[e]=c(t[e])})}else f[e]=t;else f[e]=n,s.push(function(t){return delete t[e]}),p.push(function(t){return t[e]=n})}),[f,Io(s),Io(p)]}}else if(!t)throw Eo}}else if(!To(e?a:l)&&!t)throw Eo}return[l,function(){return a},function(){return l}]}(zo(p["_"+t]),y[t]),l=_o(a,3);i=l[0],c=l[1],u=l[2]}catch(t){throw vo(t!==Eo,go("invalidHandlerUpdate",f,s)),t}p["_"+t]=Co(i),d&&(E[f]=wo({},E[f]||{},(r={undo:c,redo:u},(n=t)in(e={})?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e))),o()}};i("scope"),i("state",function(){O[f]=p._state,n||y.passive||T({type:f,payload:p._state},!1)}),y.hasOwnProperty("actions")&&y.actions.forEach(function(t){return T(Mo(t),!0)})}},T=function(o,r){vo(!r||!l[o.type],go("invalidEpicAction",o.type)),vo(!r||!w.hasOwnProperty(o.type),go("noRepeatedExternalAction",o.type)),r&&(w[o.type]=o.payload),(f[o.type]||[]).forEach(function(t){var e=t.epic,n=t.conditions.find(function(t){return o.type===t.type});if(!o.target||e===o.target){if(n._value=ko(n,o),_.push(n),!r&&!Ro(n))return;P(n,t)}}),s&&Object.keys(p).forEach(function(r){Fo(r).test(o.type)&&p[r].forEach(function(t){var e=t.epic,n=t.conditions.find(function(t){return r===t.type});o.target&&e!==o.target||(n.matchedPattern=!0,_.push(n),P(n,t,"*"===r))})})},function(t){if(t=Mo(t),j)return T(t,!0);vo(!S,go("noDispatchInEpicListener")),j=!0,E={},O={},w={},_=[],b=t;var n=void 0;try{T(t,!0)}catch(t){n=t}S=!(j=!1);var e=[];if(n||(e=x(O,b)),_.forEach(function(t){Lo(t,!n)}),Object.keys(O).forEach(function(t){var e;e=l[t],!n&&(e.state=e._state,e.scope=e._scope),delete e._state,delete e._scope}),d&&!n&&(a.length===c&&a.shift(),a.push(E),v=[]),S=!1,n)throw n;if(e.length)throw e}),u.addListener=function(t,e){var r={conditions:t=t.map(Uo.bind(null,bo()())),handler:e},n=t.map(function(t){var e=t.type,n=y;return s&&/\*/.test(e)&&(n=h),n[e]||(n[e]=[]),n[e].push(r),{listeners:n,type:e}});return function(){n.forEach(function(t){var e=t.listeners,n=t.type;e[n]=e[n].filter(function(t){return t!==r})})}},d){var N=function(t,e,r){var o=t.pop(),i={};return o&&(Object.keys(o).forEach(function(t){var e=l[t],n=o[t];["state","scope"].forEach(function(t){n[t]&&(e[t]=Co(n[t][r](zo(e[t]))))}),i[t]=e.state}),e.push(o)),i};u.undo=function(){var t=N(a,v,"undo");x(t,m)},u.redo=function(){var t=N(v,a,"redo");x(t,g)}}var C=function(t,e){var n=l[t];return n?n[e]:null};return u.getEpicState=function(t){return C(t,"state")},n&&(u.getEpicScope=function(t){return C(t,"scope")},u.getEpicUpdaters=function(t,e){return C(t,"updaters")[e].map(function(t){return{conditions:t.conditions.map(function(t){return wo({},t)})}})},u.getEpicListeners=function(t){return y[t].map(function(t){return{conditions:t.conditions.map(function(t){return wo({},t)})}})}),u},Object.defineProperty(t,"__esModule",{value:!0})});
